!function(){try{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new n.Error).stack;e&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[e]="c428f54a-5f32-4c9f-91ac-fc55dc8e0180",n._sentryDebugIdIdentifier="sentry-dbid-c428f54a-5f32-4c9f-91ac-fc55dc8e0180")}catch(n){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"e6b1a5c87dbc7ec74ffdb82b245ec9f1ae652bde"},function(){"use strict";var n={7857:function(n,e,o){var i=o(7537),t=o.n(i),r=o(3645),a=o.n(r)()(t());a.push([n.id,"\n.body-style-open {\n    height: 100% !important;\n    overflow: hidden !important;\n  }\n  ","",{version:3,sources:["webpack://./src/initialize/initialize.css"],names:[],mappings:";AACA;IACI,uBAAuB;IACvB,2BAA2B;EAC7B",sourcesContent:["\n.body-style-open {\n    height: 100% !important;\n    overflow: hidden !important;\n  }\n  "],sourceRoot:""}]),e.Z=a},3645:function(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var o="",i=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),i&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=n(e),i&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(n,o,i,t,r){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);i&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),t&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=t):d[4]="".concat(t)),e.push(d))}},e}},7537:function(n){n.exports=function(n){var e=n[1],o=n[3];if(!o)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),t="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(t," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},3379:function(n){var e=[];function o(n){for(var o=-1,i=0;i<e.length;i++)if(e[i].identifier===n){o=i;break}return o}function i(n,i){for(var r={},a=[],s=0;s<n.length;s++){var l=n[s],c=i.base?l[0]+i.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var f=o(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var v=t(p,i);i.byIndex=s,e.splice(s,0,{identifier:u,updater:v,references:1})}a.push(u)}return a}function t(n,e){var o=e.domAPI(e);return o.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;o.update(n=e)}else o.remove()}}n.exports=function(n,t){var r=i(n=n||[],t=t||{});return function(n){n=n||[];for(var a=0;a<r.length;a++){var s=o(r[a]);e[s].references--}for(var l=i(n,t),c=0;c<r.length;c++){var d=o(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},569:function(n){var e={};n.exports=function(n,o){var i=function(n){if(void 0===e[n]){var o=document.querySelector(n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(n){o=null}e[n]=o}return e[n]}(n);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(o)}},9216:function(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},3565:function(n,e,o){n.exports=function(n){var e=o.nc;e&&n.setAttribute("nonce",e)}},7795:function(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(o){!function(n,e,o){var i="";o.supports&&(i+="@supports (".concat(o.supports,") {")),o.media&&(i+="@media ".concat(o.media," {"));var t=void 0!==o.layer;t&&(i+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),i+=o.css,t&&(i+="}"),o.media&&(i+="}"),o.supports&&(i+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,n,e.options)}(e,n,o)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},4589:function(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function o(i){var t=e[i];if(void 0!==t)return t.exports;var r=e[i]={id:i,exports:{}};return n[i](r,r.exports,o),r.exports}o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,{a:e}),e},o.d=function(n,e){for(var i in e)o.o(e,i)&&!o.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.nc=void 0,function(){var n="agent-handler-link-iframe",e=function(){return document.getElementById(n)},i=o(3379),t=o.n(i),r=o(7795),a=o.n(r),s=o(569),l=o.n(s),c=o(3565),d=o.n(c),u=o(9216),f=o.n(u),p=o(4589),v=o.n(p),y=o(7857),g={};g.styleTagTransform=v(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=f(),t()(y.Z,g),y.Z&&y.Z.locals&&y.Z.locals;var m={isLinkOpen:!1,isIFrameCreated:!1,isIFrameReady:!1,wasTenantConfigPassedIn:!1,linkToken:void 0,forAdmin:!1,isForMagicLink:!1,onValidationError:function(){},onExit:function(){},onSuccess:function(){},onIFrameReady:function(){},shouldSendTokenOnSuccessfulLink:!1,savedBodyStyles:{overflow:"auto",height:"auto"},filePickerConfig:void 0},k=function(n){var e=!1;if(n&&n.includes("?for_admin=")){var o=n.split("?for_admin=");n=o[0],e="True"==o[1]||"true"==o[1]}return{linkToken:n,forAdmin:e}},h=function(n,e){var o;return(n?null!==(o=null==e?void 0:e.apiBaseURL)&&void 0!==o?o:"":"https://ah-api.merge.dev")+"/api"},T=function(){var n,o,i=e();null!==i&&null!=i.contentWindow&&m.linkToken&&i.contentWindow.postMessage({messageType:"SEND_INFO_TO_IFRAME",linkToken:m.linkToken,forAdmin:m.forAdmin,apiBaseURL:h(m.wasTenantConfigPassedIn,m.tenantConfig),isLinkOpen:m.isLinkOpen,shouldSendTokenOnSuccessfulLink:m.shouldSendTokenOnSuccessfulLink,isForMagicLink:m.isForMagicLink,filePickerConfigSent:null!=m.filePickerConfig,types:null===(n=m.filePickerConfig)||void 0===n?void 0:n.types,allowMultiSelect:null===(o=m.filePickerConfig)||void 0===o?void 0:o.allowMultiSelect,initialPageResponseBody:m.initialPageResponseBody},"*")},E=function(){document.body.classList.remove("body-style-open");var n=e();n.style.display="none",m.isLinkOpen=!1,null!=n.contentWindow&&n.contentWindow.postMessage({messageType:"EXIT_MERGE_LINK"},"*")};window.addEventListener("message",(function(n){var e,o=n.data,i=o.messageType,t=o.shouldSendTokenOnSuccessfulLink,r=o.validationErrors,a=o.selectedFiles;switch(i){case"SEND_VALIDATION_ERRORS_TO_PARENT":return void((null==r?void 0:r.length)&&m.onValidationError(r));case"SEND_SUCCESS":return void m.onSuccess();case"SEND_PUBLIC_TOKEN_TO_PARENT":return m.onSuccess(),void(t||E());case"LINKING_FLOW_READY_FOR_LINK_TOKEN":return m.isIFrameReady=!0,m.onIFrameReady(),void T();case"INTEGRATIONS_LOADED":return void m.onIFrameReady();case"CLOSE_LINKING_FLOW":return E(),void(m.onExit&&m.onExit());case"SEND_SELECTED_FILES_TO_PARENT":return void(a&&(null===(e=m.filePickerConfig)||void 0===e||e.onSubmit(a)))}})),window.AgentHandlerLink={initialize:function(e){var o=e.linkToken,i=e.tenantConfig,t=e.isForMagicLink,r=e.onValidationError,a=e.onSuccess,s=e.onReady,l=e.organization_organization_id,c=e.shouldSendTokenOnSuccessfulLink,d=e.onExit,u=e.filePickerConfig,f=e.initialPageResponseBody,p=e.parentContainerID,v=k(o),y=v.linkToken,g=v.forAdmin,h=y&&(y!==m.linkToken||m.initialPageResponseBody!==f);m.forAdmin=g,m.linkToken=null!=y?y:void 0,m.tenantConfig=i,m.isForMagicLink=null!=t&&t,m.initialPageResponseBody=f,m.onValidationError=null!=r?r:function(){},m.tenantConfig&&(m.wasTenantConfigPassedIn=!0),m.onSuccess=null!=a?a:function(){},m.onIFrameReady=null!=s?s:function(){},m.organizationID=l,m.shouldSendTokenOnSuccessfulLink=c,m.filePickerConfig=u,m.onExit=null!=d?d:function(){},!1===m.isIFrameCreated?(m.isIFrameCreated=!0,function(e){var o=document.createElement("iframe");o.id=n,o.height="100%",o.width="100%",o.style.display="none",o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.right="0",o.style.bottom="0",o.style.zIndex="9999999999",o.style.borderWidth="0",o.style.overflowX="hidden",o.style.overflowY="auto",o.style.backgroundColor="transparent",o.src="https://ah-cdn.merge.dev/index.html";var i=null!=e?document.getElementById(e):null;null!==i?i.appendChild(o):document.body.appendChild(o)}(p)):(m.isIFrameReady&&m.onIFrameReady(),h&&T())},openLink:function(n){var o,i;m.isLinkOpen=!0;var t=e();if(n&&n.linkToken){var r=k(n.linkToken).linkToken;n.linkToken=null!=r?r:void 0}n&&n.linkToken!==m.linkToken?(m.linkToken=null!==(o=n.linkToken)&&void 0!==o?o:void 0,m.onSuccess=n.onSuccess,m.initialPageResponseBody=n.initialPageResponseBody,m.onExit=null!==(i=n.onExit)&&void 0!==i?i:function(){},T()):null!=t.contentWindow&&t.contentWindow.postMessage({messageType:"SEND_INFO_TO_IFRAME",isLinkOpen:m.isLinkOpen,initialPageResponseBody:m.initialPageResponseBody},"*"),t.style.display="block",document.body.classList.add("body-style-open")},closeLink:E}}()}();
//# sourceMappingURL=initialize.js.map